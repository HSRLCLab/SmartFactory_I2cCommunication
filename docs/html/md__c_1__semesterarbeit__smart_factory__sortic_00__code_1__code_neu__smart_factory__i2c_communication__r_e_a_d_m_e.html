<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SmartFactory_SorticRoboter_I2cCommunication: SmartFactory_I2cCommunication</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SmartFactory_SorticRoboter_I2cCommunication
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">SmartFactory_I2cCommunication </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The i2c interface is a serial data bus to connect low speed devices. The data is transmitted via two cables, one being the clock line and the other being the data line. The i2c interface is based on the master-slave principle, whereby the master can push and pull messages to the slave. It is also possible to have more than one master in a system. The slave is identified by its address, with a microcontroller as slave the address can be freely selected, as long as no other slave has the address. In the SmartFactory project, data is exchanged between the SorticRobot and the SorticRobot CommunicationHub via the i2c interface. In the principle of a template, predefined structs are sent and received byte by byte. This enables a simple data exchange between the two closely linked systems. The i2c interface can also be used to read sensors if desired.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Table of contents</h1>
<ul>
<li>Tools and technologies<ul>
<li>Visual Studi Code</li>
<li>Doxygen</li>
<li>I2C</li>
</ul>
</li>
<li>Hardware<ul>
<li>Logic Level converter</li>
</ul>
</li>
<li>Software<ul>
<li>I2C</li>
<li>UML</li>
<li>Dependency Graph</li>
<li>Collaboration Diagram</li>
</ul>
</li>
<li>ToDo's</li>
<li>Contributors</li>
<li>Changelog</li>
<li>License</li>
<li>Links to SmartFactory</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Tools and technologies</h1>
<p>The source code is implemented in the programming language C++. In the following, the tools for editing the project are listed.</p>
<h3><a class="anchor" id="autotoc_md3"></a>
Visual Studio Code</h3>
<p>The development environment used is <a href="https://code.visualstudio.com/">Visual Studio Code</a> with the <a href="https://docs.platformio.org/en/latest/ide/vscode.html">PlatformIO extension</a>. The development environment can be downloaded for free. For an installation guide look here. <br  />
</p>
<h3><a class="anchor" id="autotoc_md4"></a>
Doxygen</h3>
<p>Doxygen was used for documentation of the source code. For using Doxygen in Visual Studio code, the <a href="https://marketplace.visualstudio.com/items?itemName=cschlosser.doxdocgen">Doxygen Documentation Generator</a> extension can be used.</p>
<h3><a class="anchor" id="autotoc_md5"></a>
I2C</h3>
<p>The binary signals for the i2c communication are generated by pull-up resistors. The clock line gives a time-delayed periodic square wave signal, which defines the clock of the transmission. The data bits are transmitted by a time-delayed aperiodic square-wave signal on the data line. For a more detailed explanation <a href="http://www.circuitbasics.com/basics-of-the-i2c-communication-protocol/">here</a>.</p>
<p><img src="http://www.circuitbasics.com/wp-content/uploads/2016/01/Introduction-to-I2C-Data-Transmission-Diagram-ADDRESS-FRAME-2.png" alt="i2c" class="inline"/> [Image: <a href="http://www.circuitbasics.com/basics-of-the-i2c-communication-protocol/">Circuit Base: I2C COMMUNICATION PROTOCOLL</a>]</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Hardware</h1>
<h3><a class="anchor" id="autotoc_md7"></a>
Logic Level converter</h3>
<p>A logic level converter is used to convert the different voltages of the binary signals. An explanation of the Logic Level converter can be found <a href="https://www.instructables.com/id/A-Quick-Guide-on-Logic-Level-Shifting/">here</a>.</p>
<p><img src="https://cdn-shop.adafruit.com/1200x900/757-03.jpg" alt="converter" class="inline"/> [Image: <a href="https://www.adafruit.com/product/757">Adafruit: LOGIC LEVEL CONVERTER</a></p>
<h1><a class="anchor" id="autotoc_md8"></a>
Software</h1>
<h3><a class="anchor" id="autotoc_md9"></a>
I2C</h3>
<p>The i2c interface was implemented by preprocessor instructions for the connection as master or slave in the same interface. By uncommenting "#define MASTER" the slave version can be used. </p><div class="fragment"><div class="line">// UNCOMMIT IF SLAVE</div>
<div class="line"> </div>
<div class="line">#define MASTER </div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md10"></a>
UML</h3>
<p>The figure below shows the data model in UML notation.</p>
<p>================== IMAGE ===============================</p>
<h3><a class="anchor" id="autotoc_md11"></a>
Dependency Graph</h3>
<p>The figure below shows the dependency tree of the <a class="el" href="class_i2c_communication.html" title="Class to communicate with I2C.">I2cCommunication</a> interface. The following libraries were used:</p><ul>
<li>Wire.h</li>
<li>string.h</li>
</ul>
<p>==================== IMAGE ==================================</p>
<h3><a class="anchor" id="autotoc_md12"></a>
Collaboration Diagram</h3>
<p>The figure below shows the collaboration tree of the <a class="el" href="class_i2c_communication.html" title="Class to communicate with I2C.">I2cCommunication</a> interface. The arrow simbolizes an instanced object.</p>
<p>=================== IMAGE ==========================================</p>
<h1><a class="anchor" id="autotoc_md13"></a>
ToDo's</h1>
<ul>
<li>[ ]</li>
<li>[ ]</li>
</ul>
<h1><a class="anchor" id="autotoc_md14"></a>
Contributors</h1>
<ul>
<li><a href="https://github.com/philipzellweger">Philip Zellweger</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md15"></a>
Changelog</h1>
<p>V 1.0 - Release SA HS20 - <a href="https://github.com/philipzellweger">Philip Zellweger</a></p>
<h1><a class="anchor" id="autotoc_md16"></a>
License</h1>
<p>MIT License</p>
<h1><a class="anchor" id="autotoc_md17"></a>
Links to SmartFactory</h1>
<ul>
<li><a href="https://github.com/LMazzole/SmartFactory-Sortic">SmartFactory-Sortic</a></li>
<li><a href="https://github.com/LMazzole/SmartFactory_Box-Sortic">SmartFactory_Box-Sortic</a></li>
<li><a href="https://github.com/LMazzole/SmartFactory_Vehicle-Sortic">SmartFactory_Vehicle-Sortic</a></li>
<li><a href="https://github.com/LMazzole/SmartFactory_Vehicle-Basis">SmartFactory_Vehicle-Basis</a></li>
<li><a href="https://github.com/philipzellweger/SmartFactory_SorticRoboter">SmartFactory_SorticRoboter</a></li>
<li><a href="https://github.com/philipzellweger/SmartFactory_SorticRoboter_CommunicationHub">SmartFactory_SorticRoboter_CommunicationHub</a></li>
<li><a href="https://github.com/LMazzole/SmartFactory_MQTTCommunication">SmartFactory_MQTTCommunication</a> for Adafruit Feather M0 Wifi</li>
<li><a href="https://github.com/philipzellweger/SmartFactory_MQTTCommunication">SmartFactory_MQTTCommunication</a> for Esp32 DevKitC</li>
<li><a href="https://github.com/philipzellweger/SmartFactory_I2cCommunication">SmartFactory_I2cCommunication</a></li>
<li><a href="https://github.com/philipzellweger/SmartFactory_Messages">SmartFactory_Messages</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
